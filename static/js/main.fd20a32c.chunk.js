(this["webpackJsonpfront-end-chat_room"]=this["webpackJsonpfront-end-chat_room"]||[]).push([[0],{44:function(e,t,a){e.exports=a(88)},49:function(e,t,a){},76:function(e,t){},79:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(33),r=a.n(o),l=(a(49),a(1)),s=a(34),m=a.n(s),i=a(35),u=a.n(i),d=(a(79),function(e){var t=e.setRoom,a=e.setUser,o=Object(n.useState)(""),r=Object(l.a)(o,2),s=r[0],m=r[1],i=Object(n.useState)(""),d=Object(l.a)(i,2),h=d[0],p=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"join"},c.a.createElement("div",{className:"app__title"},c.a.createElement(u.a,{style:{fontSize:"100px"}}),c.a.createElement("h3",null,"JOIN | CHAT | FORGET")),c.a.createElement("p",null,"Username"),c.a.createElement("input",{onChange:function(e){return m(e.target.value)},type:"text",placeholder:"Enter UserName...",value:s}),c.a.createElement("p",null,"Room Code"),c.a.createElement("input",{onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Enter Code",value:h}),c.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),s&&h&&fetch("https://chattie-backend.herokuapp.com/auth",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({username:s,roomname:h})}).then((function(e){return e.json()})).then((function(e){"Invalid"===e?alert("Wrong Credentials"):(t(e),a(s))})).catch((function(e){return console.log("Server Error")})),m(""),p("")}},"Join Chat")))}),h=a(40),p=a.n(h),f=a(41),_=a.n(f),E=(a(85),a(42)),v=a(39),g=a.n(v),b=a(37),y=a.n(b),j=a(38),O=a.n(j),N=(a(86),function(e){var t=e.room,a=e.user,o=e.socket,r=Object(n.useState)([]),s=Object(l.a)(r,2),m=s[0],i=s[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),h=d[0],p=d[1],f=Object(n.useState)(!1),_=Object(l.a)(f,2),v=_[0],b=_[1],j=Object(n.useState)({}),N=Object(l.a)(j,2),k=N[0],w=N[1],S=Object(n.useState)(),C=Object(l.a)(S,2),T=C[0],x=C[1];Object(n.useEffect)((function(){fetch("https://chattie-backend.herokuapp.com/getmsgs",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({room:t.name})}).then((function(e){return e.json()})).then((function(e){return i(e)})).then((function(){o.on("room__mod",(function(e){x(e)})),o.emit("join__room",{user:a,room:t}),o.on("new__typing",(function(e){e.message?(b(!0),w({username:"".concat(e.username," typing..."),message:"".concat(e.message,"...")})):b(!1)})),o.on("new__msg",(function(e){i((function(t){return[].concat(Object(E.a)(t),[e])}))}))})).catch((function(e){return console.log("Server Error")}))}),[a,o,t]),Object(n.useEffect)((function(){if(m.length){var e=document.getElementById("need_scroll");e.scrollTop=e.scrollHeight,e.style.scrollBehavior="smooth"}}),[m,k]);return Object(n.useEffect)((function(){o.emit("chat__typing",{room:t.name,username:a,message:h})}),[h,t,a,o]),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{id:"chat__body",className:"chat__body"},c.a.createElement("div",{id:"chat__info",className:"chat__info"},c.a.createElement("h4",null,c.a.createElement(y.a,null)," Room"),c.a.createElement("p",{className:"room_name"},t.name),c.a.createElement("h4",null,c.a.createElement(O.a,null),"Users"),c.a.createElement("div",{className:"room__users"},null===T||void 0===T?void 0:T.users.map((function(e){return c.a.createElement("li",{className:"room__user",key:e},e)})))),c.a.createElement("div",{id:"need_scroll",className:"chat__msgs"},m.map((function(e){return c.a.createElement("div",{key:Math.random().toString(),className:"".concat(a===e.username?"msg__containerself":void 0," ").concat("chaTTie BOT"===e.username&&"bot__msg")},c.a.createElement("div",{className:"chat__msg"},c.a.createElement("h6",null,e.username),c.a.createElement("div",null,e.message)))})),v&&c.a.createElement("div",{className:"chat__msg"},c.a.createElement("h6",null,k.username),c.a.createElement("div",null,k.message)))),c.a.createElement("form",{className:"chat__footer"},c.a.createElement("div",{className:"mobile__footer"},c.a.createElement("input",{className:"chat__input",onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Enter your message",value:h}),c.a.createElement("button",{onClick:function(e){e.preventDefault(),h&&o.emit("chat__msg",{room:t.name,username:a,message:h}),p("")},type:"submit"},c.a.createElement(g.a,null)))))}),k=m()("https://chattie-backend.herokuapp.com/"),w=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),m=s[0],i=s[1];return c.a.createElement("div",{className:"app"},c.a.createElement("div",{id:"app_card",className:"app_card ".concat(m&&"app_cardext")},c.a.createElement("div",{id:"app_title",className:"app_title"},c.a.createElement("h1",null,".chaTTie"),m&&c.a.createElement("div",null,c.a.createElement("button",{className:"leave__room",onClick:function(){window.location.reload()}},c.a.createElement(p.a,null)),window.screen.width<=500&&c.a.createElement("button",{className:"leave__room",onClick:function(){var e=document.getElementById("chat__info");"none"===e.style.display?e.style.display="flex":e.style.display="none"}},c.a.createElement(_.a,null)))),c.a.createElement("div",{className:"mobile__view"},m?c.a.createElement(N,{room:a,user:m,socket:k}):c.a.createElement(d,{setRoom:o,setUser:i}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.fd20a32c.chunk.js.map